try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3c423a76-0c42-4bd9-a221-c87c07c4cb2e",e._sentryDebugIdIdentifier="sentry-dbid-3c423a76-0c42-4bd9-a221-c87c07c4cb2e")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"leadpages@v10.14.51"};(self.webpackChunk=self.webpackChunk||[]).push([[5405],{64012:function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(10648),s=(r=a)&&r.__esModule?r:{default:r};var u={get:!0,set:!0,remove:!0,status:!0},f=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("SSO server constructor requires a whitelist");this.whitelist=t,window.parent!==window&&window.addEventListener("message",this.handleRequest.bind(this),!1),window.parent.postMessage(JSON.stringify({loaded:!0}),"*")}return i(e,[{key:"handleRequest",value:function(e){var t=this.parseData(e.data),n={id:t.id},r=t.method?String.prototype.toLowerCase.call(t.method):"";if(this.isAllowed(e.origin)&&u[r]){try{n.data=this[r](t.data)}catch(e){n.data={error:e.message}}e.source.postMessage(JSON.stringify(n),e.origin)}}},{key:"get",value:function(e){var t=this;if(e&&"string"==typeof e)return s.default.getJSON(e)||null;if(e instanceof Array)return e.reduce((function(e,n){return null!==t.get(n)&&(e[n]=t.get(n)),e}),{});throw Error("get argument must be a string, or array of strings")}},{key:"set",value:function(e){if("object"!==(void 0===e?"undefined":o(e))||e instanceof Array||!e)throw Error("set argument must be an object");for(var t in e)s.default.set(t,e[t],{sameSite:"none",secure:!0});return{success:!0}}},{key:"remove",value:function(e){var t=this;if(e&&"string"==typeof e)s.default.remove(e);else{if(!(e instanceof Array))throw Error("remove argument must be a string");e.forEach((function(e){t.remove(e)}))}return{success:!0}}},{key:"status",value:function(){return{loaded:!0}}},{key:"parseData",value:function(e){var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){t={}}else t=e||{};return t}},{key:"isAllowed",value:function(e){var t=this.parseUrl(e),n=this.whitelist[t.domain];return void 0!==n&&(!n||!(n&&!t.subdomain)&&(n instanceof RegExp?n.test(t.subdomain):n instanceof Array?-1!==n.indexOf(t.subdomain):"string"==typeof n&&c(n)===c(t.subdomain)))}},{key:"parseUrl",value:function(e){var t=e.match(/^(?:https?\:\/\/|\/?)([^\/:?#]+)(?:[\/:?#]|$)/i);if(!(e=t&&t[1]))return"";for(var n=e.split("."),r=[];n.length>2;)r.push(n.shift());return{domain:n.join("."),subdomain:r.join(".")}}}]),e}();function c(e){return e.trim().toLowerCase()}t.Z=f},10648:function(e,t,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var f=t(s[0]);if(u=(r.read||r)(u,f)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[f]=u,e===f)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},50052:function(e,t,n){"use strict";var r=n(64012);!function(){if(window&&window.Whitelist){var e=r.Z.prototype.isAllowed,t=/(?:lead-pages-page-builder$|leadpages-home$)/i;r.Z.prototype.isAllowed=function(n){var o=r.Z.prototype.parseUrl(n);return!("appspot.com"!==o.domain||!t.test(o.subdomain))||e.call(this,n)},new r.Z(window.Whitelist)}}()}},function(e){var t;t=50052,e(e.s=t)}]);
//# sourceMappingURL=sso-server.js.map